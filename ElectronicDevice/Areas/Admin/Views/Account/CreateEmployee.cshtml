@model ElectronicDevice.Models.Account
@{
    ViewBag.Title = "Thêm nhân viên";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<div class="d-flex">
    <a href="@Url.Action("Index","Account")"><i class="fa fa-arrow-left"></i></a> &nbsp
    <h3 class="title-5 m-b-35">Thêm nhân viên</h3>
</div>
<div class="">
    <div class="bg-light p-4">
        <div class="row">
            <div class="col-md-12">

                @using (Html.BeginForm("CreateEmployee", "Account", FormMethod.Post, new { enctype = "multipart/form-data" }))
                {
                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                    <div class="row">
                        <div class="col-md-9">

                            <div class="form-group row">
                                <label for="fullname" class="col-md-2">Tên đăng nhập</label>
                                <div class="col-md-10">
                                    @Html.EditorFor(model => model.UserName, new { htmlAttributes = new { @class = "form-control", @placeholder = "thanhnt" } })
                                    @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })
                                    <span class="text-danger hide" id="error_username"></span>
                                </div>

                            </div>
                            <div class="form-group row">
                                <label for="fullname" class="col-md-2">Họ tên</label>
                                <div class=" col-md-10">
                                    @Html.EditorFor(model => model.FullName, new { htmlAttributes = new { @class = "form-control", @placeholder = "Nguyễn Trung Thành" } })
                                    @Html.ValidationMessageFor(model => model.FullName, "", new { @class = "text-danger" })
                                    <span class="text-danger hide" id="error_full_name"></span>
                                </div>

                            </div>
                            <div class="form-group row">
                                <label for="email" class="col-md-2">Email</label>
                                <div class="col-md-10">
                                    @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @type = "email", @class = "form-control", @placeholder = "abc123@gmail.com" } })
                                    @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                                    <span class="text-danger hide" id="error_email"></span>
                                </div>

                            </div>
                            <div class="form-group row">
                                <label for="phone" class="col-md-2">Số điện thoại</label>
                                <div class="col-md-10">
                                    @Html.EditorFor(model => model.Phone, new { htmlAttributes = new { @class = "form-control", @placeholder = "0988776654" } })
                                    @Html.ValidationMessageFor(model => model.Phone, "", new { @class = "text-danger" })
                                    <span class="text-danger hide" id="error_phone"></span>
                                </div>

                            </div>
                            <div class="form-group row">
                                <label for="password" class="col-md-2">Mật khẩu</label>
                                <div class="col-md-10">
                                    @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @type = "password", @class = "form-control", @placeholder = "Admin@1234" } })
                                    @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
                                    <span class="text-danger hide" id="error_password"></span>
                                </div>

                            </div>
                            <div class="form-group row">
                                <label for="address" class="col-md-2">Địa chỉ</label>
                                <div class="col-md-10">
                                    @Html.EditorFor(model => model.Address, new { htmlAttributes = new { @class = "form-control", @placeholder = "Cầu Giấy - Hà Nội" } })
                                    @Html.ValidationMessageFor(model => model.Address, "", new { @class = "text-danger" })
                                    <span class="text-danger hide" id="error_address"></span>
                                </div>

                            </div>
                            <br>
                            <div class="form-group">
                                <input type="submit" class="btn btn-light border" onclick="clickSaveInforUser()" value="Thêm">
                            </div>
                        </div>
                        @*<div class="col-md-3">
                                <div class="form-group row">
                                    <div class="col-md-3">
                                        <img id="output" src="http://m.myclip.vn/images/avatar.gif" alt="Ảnh" class="rounded-circle" width="100" height="100">
                                    </div>
                                    <input type="file" name="ImageFile" class="form-control col-md-9" id="ufile" onchange="loadFile(event)">
                                    @Html.HiddenFor(model => model.Avatar, new { htmlAttributes = new { @class = "form-control" } })

                                </div>
                            </div>*@
                        <div class="col-md-3">
                            <div class="form-group row">
                                <div class="col-md-12">

                                    <div class="d-flex justify-content-center">
                                        <img id="output" src="http://m.myclip.vn/images/avatar.gif" alt="Ảnh" class="rounded-circle border"
                                             style="width:150px !important; height:150px !important">
                                    </div>
                                    <div class="d-flex justify-content-center">
                                        <input hidden type="file" name="ImageFile" id="ufile" onchange="loadFile(event)">
                                        <label for="ufile" class="label bg-light border p-2 m-3">Chọn ảnh</label>
                                        @Html.HiddenFor(model => model.Avatar, new { htmlAttributes = new { @class = "form-control" } })
                                    </div>
                                </div>



                            </div>
                        </div>
                    </div>

                }
            </div>
        </div>
    </div>
</div>

@section Script{
    <script>

        var loadFile = function (event) {
            var image = document.getElementById('output');
            image.src = URL.createObjectURL(event.target.files[0]);
        };
    </script>
    <script src="~/Areas/Admin/Assets/js/ct-employee.js"></script>
    @if (ViewBag.UserNameInvalid)
    {
        <script>
            setTimeout(() => {
                alert("Tên đăng nhập đã tồn tại");
            }, 1000);

        </script>
    }
}

